# Добавление новых серверов в TrafficDown

## Общая информация

TrafficDown использует различные сервера для тестирования скорости и нагрузки на сеть. Все сервера хранятся в файле `servers/servers.py` в формате словаря `SPEED_TEST_SERVERS`.

## Тестирование серверов перед добавлением

Перед добавлением новых серверов рекомендуется протестировать их с помощью скрипта `test_your_servers.py`:

1. Скопируйте ваш список серверов из `servers.py` в переменную `SPEED_TEST_SERVERS` в начале файла `test_your_servers.py`
2. Запустите скрипт:
```bash
python3 servers/test_your_servers.py
```

Скрипт проверит:
- Доступность каждого сервера
- Скорость загрузки
- Статус ответа
- И сгенерирует обновленный код с только рабочими серверами

### Результаты тестирования
- Зеленым цветом показываются успешно протестированные сервера с их скоростью
- Красным цветом показываются ошибки при тестировании
- В конце выводится готовый код для копирования в `servers.py`

## Как добавить новый сервер

1. Откройте файл `servers/servers.py`
2. Найдите словарь `SPEED_TEST_SERVERS`
3. Добавьте новый провайдер по следующему шаблону:

```python
'provider_name': {
    'name': 'Имя провайдера',
    'description': 'Описание серверов',
    'urls': [
        'https://server.domain/path/to/large/file1',
        'https://server.domain/path/to/large/file2',
        'https://server.domain/path/to/large/file3'
    ]
}
```

### Требования к серверам:

1. **Протокол**: HTTP или HTTPS
2. **Файлы**: 
   - Размер: от 100MB до 10GB
   - Формат: любой (.zip, .bin, .dat и т.д.)
   - Доступность: прямые ссылки без авторизации
   - Стабильность: сервер должен быть доступен 24/7

3. **Скорость**: 
   - Минимальная: 0.5 MB/s
   - Рекомендуемая: > 1 MB/s

4. **Ограничения**:
   - Без ограничений на скачивание
   - Без капчи
   - Без редиректов
   - Поддержка Range-запросов

## Пример добавления

```python
SPEED_TEST_SERVERS = {
    'existing_provider': { ... },
    
    'new_provider': {
        'name': 'New Provider Name',
        'description': 'Fast servers with good stability',
        'urls': [
            'https://speedtest.newprovider.com/10GB.bin',
            'https://speedtest.newprovider.com/1GB.bin',
            'https://speedtest.newprovider.com/100MB.bin'
        ]
    }
}
```

## Тестирование новых серверов

После добавления новых серверов:

1. Запустите скрипт `test_servers.py`:
```bash
python3 test_servers.py
```

2. Убедитесь, что:
   - Сервера доступны
   - Скорость скачивания приемлемая
   - Нет ошибок
   - Поддерживаются Range-запросы

3. Если тесты прошли успешно, можно использовать сервера в основном скрипте.

## Рекомендации

1. **Размеры файлов**:
   - 100MB - для быстрого тестирования
   - 1GB - оптимальный размер
   - 10GB - для длительных тестов

2. **Форматы файлов**:
   - .bin или .dat - бинарные файлы
   - .zip - архивы (сжатые)
   - .test или .speed - специальные тестовые файлы

3. **Структура URL**:
   - Используйте поддомены speedtest или speed
   - Указывайте размер в имени файла
   - Используйте простые пути без параметров

## Примечания

- Не используйте сервера без разрешения владельцев
- Проверяйте Terms of Service провайдера
- Не добавляйте сервера с ограничениями
- Регулярно проверяйте доступность серверов
